@page "/V1"
@using Microsoft.FSharp.Core
@rendermode InteractiveServer

<PageTitle>Lambda-Calculus Interpreter v1</PageTitle>
<Header></Header>

<h1>Insert code</h1>

<textarea class="form-control"
          rows="25"
          @bind="userCode">
</textarea>

<button class="btn btn-primary mt-2" @onclick="compile">Compile</button>
<button class="btn btn-primary mt-2" @onclick="transpile">Transpile</button>

<p role="status">Result: @result</p>

@code {
    private string result = "";
    private string userCode = """
    addRec = λ n m. cond (iszero n) m (addRec (sub n 1) (add m 1));
    main = addRec 4 5; % Result is 9
    """;

    private void compile()
    {
        result = execsNormal(userCode);
    }

    private void transpile()
    {
        result = transpilesCs(userCode);
    }
}
